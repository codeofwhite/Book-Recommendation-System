## 离线推荐模型训练调用指南

提供了两种触发离线推荐模型训练作业的方式：直接进入容器调用函数，以及通过 API 接口触发（推荐）。

-----

### 1\. 传统方式：进入容器手动触发（调试/测试用）

如果需要直接在模型训练环境中进行调试或测试，可以使用以下命令进入容器并执行训练函数。

  * **步骤 1：进入容器**
    使用 `docker exec` 命令进入离线推荐服务的容器命令行环境：

    ```shell
    docker exec -it offline_recommendation_service_app bash
    ```

  * **步骤 2：执行训练函数**
    在容器内部启动 Python 解释器，并调用预定义的训练函数：

    ```python
    python
    >>> from app import run_offline_training_job
    >>> run_offline_training_job()  # 直接调用模型训练主函数
    ```

### 2\. ✅ 推荐方式：通过 API 接口触发（生产/自动化用）

这是**推荐**用于触发离线训练作业的方式，它更方便集成到调度系统（如 Cron 或 Airflow）中，且无需进入容器。

  * **操作目的：** 向推荐服务发送 POST 请求，异步触发离线训练任务。

  * **执行命令：**

    ```shell
    curl -X POST http://localhost:5005/recommend/trigger_offline_job
    ```

    > **💡 优势：** 这种方式是**最便捷**的触发方法，符合微服务的设计原则，易于自动化和监控。